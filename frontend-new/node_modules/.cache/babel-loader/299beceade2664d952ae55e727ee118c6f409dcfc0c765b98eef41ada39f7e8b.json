{"ast":null,"code":"var _jsxFileName = \"/Users/agmac20/Downloads/voicebot-main/frontend-new/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Mic, MicOff, Send, Volume2, VolumeX, Bot, RotateCcw } from 'lucide-react';\nimport MessageList from './components/MessageList';\nimport useChat from './hooks/useChat';\nimport useTextToSpeech from './hooks/useTextToSpeech';\nimport useAudioRecorder from './hooks/useAudioRecorder';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // Generate time-appropriate greeting\n  const getTimeGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return 'Good morning';\n    if (hour < 17) return 'Good afternoon';\n    return 'Good evening';\n  };\n  const [messages, setMessages] = useState([{\n    id: 'welcome',\n    text: `Hello! ${getTimeGreeting()}! I'm your AI assistant powered by news and current events. How can I help you today?`,\n    sender: 'bot',\n    timestamp: new Date(),\n    isVoice: false\n  }]);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const [inputText, setInputText] = useState('');\n  const [isStreaming, setIsStreaming] = useState(false);\n  const [streamingText, setStreamingText] = useState('');\n  const messagesEndRef = useRef(null);\n  const {\n    speak,\n    stopSpeaking,\n    isSpeaking\n  } = useTextToSpeech();\n  const {\n    startRecording: startAudioRecording,\n    stopRecording: stopAudioRecording,\n    isRecording: isAudioRecording,\n    audioBlob,\n    error: audioError,\n    clearAudio\n  } = useAudioRecorder();\n  const {\n    sendMessage,\n    sendStreamingMessage,\n    getChatHistory,\n    clearChatHistory,\n    resetSession,\n    sessionId,\n    isLoading,\n    error: chatError\n  } = useChat();\n\n  // Determine which recording mode we're in\n  const isVoiceMode = isAudioRecording;\n  const isProcessing = isLoading || isStreaming;\n\n  // Scroll to bottom when new messages arrive\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, streamingText]);\n\n  // Load chat history when session is available\n  useEffect(() => {\n    if (sessionId) {\n      loadChatHistory();\n    }\n  }, [sessionId]);\n  const loadChatHistory = async () => {\n    try {\n      const history = await getChatHistory();\n      if (history && history.length > 0) {\n        const formattedMessages = history.map(msg => ({\n          id: msg.id,\n          text: msg.text,\n          sender: msg.sender,\n          timestamp: new Date(msg.timestamp),\n          isVoice: false\n        }));\n        setMessages(formattedMessages);\n      }\n    } catch (error) {\n      console.error('Failed to load chat history:', error);\n    }\n  };\n  const handleVoiceToggle = () => {\n    if (isVoiceMode) {\n      stopAudioRecording();\n    } else {\n      setInputText(''); // Clear input when starting recording\n      startAudioRecording();\n    }\n  };\n  const handleMuteToggle = () => {\n    if (isSpeaking) {\n      stopSpeaking();\n    }\n    setIsMuted(!isMuted);\n  };\n  const handleResetChat = async () => {\n    try {\n      if (sessionId) {\n        await clearChatHistory();\n      }\n      resetSession();\n      setMessages([{\n        id: 'welcome',\n        text: `Hello! ${getTimeGreeting()}! I'm your AI assistant powered by news and current events. How can I help you today?`,\n        sender: 'bot',\n        timestamp: new Date(),\n        isVoice: false\n      }]);\n    } catch (error) {\n      console.error('Failed to reset chat:', error);\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!inputText.trim() || isProcessing) return;\n    const userMessage = {\n      id: Date.now().toString(),\n      text: inputText.trim(),\n      sender: 'user',\n      timestamp: new Date(),\n      isVoice: false\n    };\n    setMessages(prev => [...prev, userMessage]);\n    const messageText = inputText.trim();\n    setInputText('');\n    try {\n      setIsTyping(true);\n      setIsStreaming(true);\n      setStreamingText('');\n\n      // Use streaming for better UX\n      await sendStreamingMessage(messageText,\n      // onChunk\n      chunk => {\n        setStreamingText(prev => prev + chunk);\n      },\n      // onComplete\n      completedSessionId => {\n        const botMessage = {\n          id: (Date.now() + 1).toString(),\n          text: streamingText,\n          sender: 'bot',\n          timestamp: new Date(),\n          isVoice: false\n        };\n        setMessages(prev => [...prev, botMessage]);\n        setStreamingText('');\n        setIsStreaming(false);\n        setIsTyping(false);\n\n        // Speak the response if not muted\n        if (!isMuted && streamingText) {\n          speak(streamingText);\n        }\n      },\n      // onError\n      error => {\n        console.error('Streaming error:', error);\n        const errorMessage = {\n          id: (Date.now() + 1).toString(),\n          text: `Error: ${error}`,\n          sender: 'bot',\n          timestamp: new Date(),\n          isVoice: false\n        };\n        setMessages(prev => [...prev, errorMessage]);\n        setIsStreaming(false);\n        setIsTyping(false);\n        setStreamingText('');\n      });\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        text: `Error: ${chatError || 'Failed to send message'}`,\n        sender: 'bot',\n        timestamp: new Date(),\n        isVoice: false\n      };\n      setMessages(prev => [...prev, errorMessage]);\n      setIsStreaming(false);\n      setIsTyping(false);\n      setStreamingText('');\n    }\n  };\n\n  // Handle sending voice message when audio is ready\n  useEffect(() => {\n    if (audioBlob && !isAudioRecording) {\n      handleSendVoiceMessage(audioBlob);\n    }\n  }, [audioBlob, isAudioRecording]);\n  const handleSendVoiceMessage = async audioBlob => {\n    try {\n      // For now, we'll just send a placeholder message\n      // In a real implementation, you'd transcribe the audio first\n      const userMessage = {\n        id: Date.now().toString(),\n        text: 'Voice message (transcription not implemented)',\n        sender: 'user',\n        timestamp: new Date(),\n        isVoice: true\n      };\n      setMessages(prev => [...prev, userMessage]);\n      clearAudio();\n\n      // Send a text message instead\n      await handleSendMessage();\n    } catch (error) {\n      console.error('Error sending voice message:', error);\n      clearAudio();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-4xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-t-2xl shadow-lg p-6 border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Bot, {\n                className: \"w-6 h-6 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-gray-800\",\n                children: \"AI News Assistant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 rounded-full bg-green-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: sessionId ? `Session: ${sessionId.slice(0, 8)}...` : 'Ready'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleResetChat,\n              className: \"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors\",\n              title: \"Reset Chat\",\n              children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleMuteToggle,\n              className: `p-2 rounded-full transition-colors ${isMuted ? 'bg-red-100 text-red-600' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,\n              title: isMuted ? 'Unmute' : 'Mute',\n              children: isMuted ? /*#__PURE__*/_jsxDEV(VolumeX, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 28\n              }, this) : /*#__PURE__*/_jsxDEV(Volume2, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-b-2xl shadow-lg h-96 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-6\",\n          children: [/*#__PURE__*/_jsxDEV(MessageList, {\n            messages: messages,\n            isTyping: isTyping,\n            streamingText: streamingText,\n            isStreaming: isStreaming\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleVoiceToggle,\n              className: `p-4 rounded-full transition-all duration-200 ${isVoiceMode ? 'bg-red-500 text-white animate-pulse shadow-lg' : 'bg-blue-500 text-white hover:bg-blue-600 shadow-md'}`,\n              disabled: isProcessing,\n              title: \"Voice Recording\",\n              children: isVoiceMode ? /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 32\n              }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: inputText,\n                onChange: e => setInputText(e.target.value),\n                placeholder: isVoiceMode ? \"Recording... Click mic to stop\" : isProcessing ? \"Processing...\" : \"Ask me about current news and events...\",\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                onKeyPress: e => {\n                  if (e.key === 'Enter' && !isProcessing) {\n                    handleSendMessage();\n                  }\n                },\n                disabled: isVoiceMode || isProcessing\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `p-3 rounded-full transition-colors disabled:opacity-50 ${isVoiceMode ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-blue-500 text-white hover:bg-blue-600'}`,\n              disabled: !inputText.trim() || isProcessing,\n              onClick: handleSendMessage,\n              title: \"Send message\",\n              children: /*#__PURE__*/_jsxDEV(Send, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 text-center text-gray-500\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline-flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Processing...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), isVoiceMode && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-600 flex items-center justify-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Mic, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Recording... Speak now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 flex items-center justify-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Bot, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Assistant is typing...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), chatError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-600\",\n              children: [\"Error: \", chatError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"CeRkZvGTAZbuIF7p/5629ROn9b8=\", false, function () {\n  return [useTextToSpeech, useAudioRecorder, useChat];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Mic","MicOff","Send","Volume2","VolumeX","Bot","RotateCcw","MessageList","useChat","useTextToSpeech","useAudioRecorder","jsxDEV","_jsxDEV","App","_s","getTimeGreeting","hour","Date","getHours","messages","setMessages","id","text","sender","timestamp","isVoice","isMuted","setIsMuted","isTyping","setIsTyping","inputText","setInputText","isStreaming","setIsStreaming","streamingText","setStreamingText","messagesEndRef","speak","stopSpeaking","isSpeaking","startRecording","startAudioRecording","stopRecording","stopAudioRecording","isRecording","isAudioRecording","audioBlob","error","audioError","clearAudio","sendMessage","sendStreamingMessage","getChatHistory","clearChatHistory","resetSession","sessionId","isLoading","chatError","isVoiceMode","isProcessing","_messagesEndRef$curre","current","scrollIntoView","behavior","loadChatHistory","history","length","formattedMessages","map","msg","console","handleVoiceToggle","handleMuteToggle","handleResetChat","handleSendMessage","trim","userMessage","now","toString","prev","messageText","chunk","completedSessionId","botMessage","errorMessage","handleSendVoiceMessage","className","children","fileName","_jsxFileName","lineNumber","columnNumber","slice","onClick","title","ref","disabled","type","value","onChange","e","target","placeholder","onKeyPress","key","_c","$RefreshReg$"],"sources":["/Users/agmac20/Downloads/voicebot-main/frontend-new/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Mic, MicOff, Send, Volume2, VolumeX, Bot, RotateCcw } from 'lucide-react';\nimport MessageList from './components/MessageList';\nimport useChat from './hooks/useChat';\nimport useTextToSpeech from './hooks/useTextToSpeech';\nimport useAudioRecorder from './hooks/useAudioRecorder';\nimport './index.css';\n\nconst App = () => {\n  // Generate time-appropriate greeting\n  const getTimeGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return 'Good morning';\n    if (hour < 17) return 'Good afternoon';\n    return 'Good evening';\n  };\n\n  const [messages, setMessages] = useState([\n    {\n      id: 'welcome',\n      text: `Hello! ${getTimeGreeting()}! I'm your AI assistant powered by news and current events. How can I help you today?`,\n      sender: 'bot',\n      timestamp: new Date(),\n      isVoice: false\n    }\n  ]);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const [inputText, setInputText] = useState('');\n  const [isStreaming, setIsStreaming] = useState(false);\n  const [streamingText, setStreamingText] = useState('');\n  \n  const messagesEndRef = useRef(null);\n  \n  const { speak, stopSpeaking, isSpeaking } = useTextToSpeech();\n  const { \n    startRecording: startAudioRecording, \n    stopRecording: stopAudioRecording, \n    isRecording: isAudioRecording, \n    audioBlob, \n    error: audioError,\n    clearAudio \n  } = useAudioRecorder();\n  \n  const { \n    sendMessage, \n    sendStreamingMessage,\n    getChatHistory,\n    clearChatHistory,\n    resetSession,\n    sessionId,\n    isLoading, \n    error: chatError \n  } = useChat();\n\n  // Determine which recording mode we're in\n  const isVoiceMode = isAudioRecording;\n  const isProcessing = isLoading || isStreaming;\n\n  // Scroll to bottom when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages, streamingText]);\n\n  // Load chat history when session is available\n  useEffect(() => {\n    if (sessionId) {\n      loadChatHistory();\n    }\n  }, [sessionId]);\n\n  const loadChatHistory = async () => {\n    try {\n      const history = await getChatHistory();\n      if (history && history.length > 0) {\n        const formattedMessages = history.map(msg => ({\n          id: msg.id,\n          text: msg.text,\n          sender: msg.sender,\n          timestamp: new Date(msg.timestamp),\n          isVoice: false\n        }));\n        setMessages(formattedMessages);\n      }\n    } catch (error) {\n      console.error('Failed to load chat history:', error);\n    }\n  };\n\n  const handleVoiceToggle = () => {\n    if (isVoiceMode) {\n      stopAudioRecording();\n    } else {\n      setInputText(''); // Clear input when starting recording\n      startAudioRecording();\n    }\n  };\n\n  const handleMuteToggle = () => {\n    if (isSpeaking) {\n      stopSpeaking();\n    }\n    setIsMuted(!isMuted);\n  };\n\n  const handleResetChat = async () => {\n    try {\n      if (sessionId) {\n        await clearChatHistory();\n      }\n      resetSession();\n      setMessages([\n        {\n          id: 'welcome',\n          text: `Hello! ${getTimeGreeting()}! I'm your AI assistant powered by news and current events. How can I help you today?`,\n          sender: 'bot',\n          timestamp: new Date(),\n          isVoice: false\n        }\n      ]);\n    } catch (error) {\n      console.error('Failed to reset chat:', error);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!inputText.trim() || isProcessing) return;\n\n    const userMessage = {\n      id: Date.now().toString(),\n      text: inputText.trim(),\n      sender: 'user',\n      timestamp: new Date(),\n      isVoice: false\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    const messageText = inputText.trim();\n    setInputText('');\n\n    try {\n      setIsTyping(true);\n      setIsStreaming(true);\n      setStreamingText('');\n\n      // Use streaming for better UX\n      await sendStreamingMessage(\n        messageText,\n        // onChunk\n        (chunk) => {\n          setStreamingText(prev => prev + chunk);\n        },\n        // onComplete\n        (completedSessionId) => {\n          const botMessage = {\n            id: (Date.now() + 1).toString(),\n            text: streamingText,\n            sender: 'bot',\n            timestamp: new Date(),\n            isVoice: false\n          };\n          setMessages(prev => [...prev, botMessage]);\n          setStreamingText('');\n          setIsStreaming(false);\n          setIsTyping(false);\n          \n          // Speak the response if not muted\n          if (!isMuted && streamingText) {\n            speak(streamingText);\n          }\n        },\n        // onError\n        (error) => {\n          console.error('Streaming error:', error);\n          const errorMessage = {\n            id: (Date.now() + 1).toString(),\n            text: `Error: ${error}`,\n            sender: 'bot',\n            timestamp: new Date(),\n            isVoice: false\n          };\n          setMessages(prev => [...prev, errorMessage]);\n          setIsStreaming(false);\n          setIsTyping(false);\n          setStreamingText('');\n        }\n      );\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        text: `Error: ${chatError || 'Failed to send message'}`,\n        sender: 'bot',\n        timestamp: new Date(),\n        isVoice: false\n      };\n      setMessages(prev => [...prev, errorMessage]);\n      setIsStreaming(false);\n      setIsTyping(false);\n      setStreamingText('');\n    }\n  };\n\n  // Handle sending voice message when audio is ready\n  useEffect(() => {\n    if (audioBlob && !isAudioRecording) {\n      handleSendVoiceMessage(audioBlob);\n    }\n  }, [audioBlob, isAudioRecording]);\n\n  const handleSendVoiceMessage = async (audioBlob) => {\n    try {\n      // For now, we'll just send a placeholder message\n      // In a real implementation, you'd transcribe the audio first\n      const userMessage = {\n        id: Date.now().toString(),\n        text: 'Voice message (transcription not implemented)',\n        sender: 'user',\n        timestamp: new Date(),\n        isVoice: true\n      };\n\n      setMessages(prev => [...prev, userMessage]);\n      clearAudio();\n      \n      // Send a text message instead\n      await handleSendMessage();\n    } catch (error) {\n      console.error('Error sending voice message:', error);\n      clearAudio();\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-4xl\">\n        {/* Header */}\n        <div className=\"bg-white rounded-t-2xl shadow-lg p-6 border-b\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n                <Bot className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-800\">AI News Assistant</h1>\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"w-2 h-2 rounded-full bg-green-500\"></div>\n                  <span className=\"text-sm text-gray-600\">\n                    {sessionId ? `Session: ${sessionId.slice(0, 8)}...` : 'Ready'}\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={handleResetChat}\n                className=\"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors\"\n                title=\"Reset Chat\"\n              >\n                <RotateCcw className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={handleMuteToggle}\n                className={`p-2 rounded-full transition-colors ${\n                  isMuted ? 'bg-red-100 text-red-600' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n                title={isMuted ? 'Unmute' : 'Mute'}\n              >\n                {isMuted ? <VolumeX className=\"w-5 h-5\" /> : <Volume2 className=\"w-5 h-5\" />}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Chat Container */}\n        <div className=\"bg-white rounded-b-2xl shadow-lg h-96 flex flex-col\">\n          {/* Messages */}\n          <div className=\"flex-1 overflow-y-auto p-6\">\n            <MessageList \n              messages={messages} \n              isTyping={isTyping}\n              streamingText={streamingText}\n              isStreaming={isStreaming}\n            />\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Input Area */}\n          <div className=\"border-t p-6\">\n            <div className=\"flex items-center space-x-4\">\n              {/* Voice Recording Button */}\n              <button\n                onClick={handleVoiceToggle}\n                className={`p-4 rounded-full transition-all duration-200 ${\n                  isVoiceMode \n                    ? 'bg-red-500 text-white animate-pulse shadow-lg' \n                    : 'bg-blue-500 text-white hover:bg-blue-600 shadow-md'\n                }`}\n                disabled={isProcessing}\n                title=\"Voice Recording\"\n              >\n                {isVoiceMode ? <MicOff className=\"w-6 h-6\" /> : <Mic className=\"w-6 h-6\" />}\n              </button>\n\n              {/* Text Input */}\n              <div className=\"flex-1\">\n                <input\n                  type=\"text\"\n                  value={inputText}\n                  onChange={(e) => setInputText(e.target.value)}\n                  placeholder={\n                    isVoiceMode ? \"Recording... Click mic to stop\" :\n                    isProcessing ? \"Processing...\" :\n                    \"Ask me about current news and events...\"\n                  }\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  onKeyPress={(e) => {\n                    if (e.key === 'Enter' && !isProcessing) {\n                      handleSendMessage();\n                    }\n                  }}\n                  disabled={isVoiceMode || isProcessing}\n                />\n              </div>\n\n              {/* Send Button */}\n              <button\n                className={`p-3 rounded-full transition-colors disabled:opacity-50 ${\n                  isVoiceMode \n                    ? 'bg-red-500 text-white hover:bg-red-600' \n                    : 'bg-blue-500 text-white hover:bg-blue-600'\n                }`}\n                disabled={!inputText.trim() || isProcessing}\n                onClick={handleSendMessage}\n                title=\"Send message\"\n              >\n                <Send className=\"w-5 h-5\" />\n              </button>\n            </div>\n            \n            {/* Loading indicator */}\n            {isProcessing && (\n              <div className=\"mt-4 text-center text-gray-500\">\n                <div className=\"inline-flex items-center space-x-2\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\n                  <span>Processing...</span>\n                </div>\n              </div>\n            )}\n\n            {/* Status Messages */}\n            {isVoiceMode && (\n              <div className=\"mt-3 text-center\">\n                <p className=\"text-sm text-red-600 flex items-center justify-center space-x-2\">\n                  <Mic className=\"w-4 h-4\" />\n                  <span>Recording... Speak now</span>\n                </p>\n              </div>\n            )}\n            \n            {isTyping && (\n              <div className=\"mt-3 text-center\">\n                <p className=\"text-sm text-gray-600 flex items-center justify-center space-x-2\">\n                  <Bot className=\"w-4 h-4\" />\n                  <span>Assistant is typing...</span>\n                </p>\n              </div>\n            )}\n\n            {/* Error Messages */}\n            {chatError && (\n              <div className=\"mt-3 text-center\">\n                <p className=\"text-sm text-red-600\">\n                  Error: {chatError}\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}